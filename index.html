<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura | Diagn√≥stico de Tope Operativo</title>
    <link href="https://api.fontshare.com/v2/css?f[]=geist@1,2&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        :root { 
            --primary-text: #1A1A1C;
            --bg-body: #F8F8F8;
            --radius: 20px;
            --gradient: linear-gradient(135deg, #0034EB, #00F3F9, #0A34CD, #425680, #81FFD9);
        }

        body { font-family: 'Geist', sans-serif; background-color: var(--bg-body); color: var(--primary-text); margin: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; }
        .landing-wrapper { width: 100%; min-height: 100vh; background: var(--gradient); background-size: 400% 400%; animation: gradientBG 15s ease infinite; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px 20px; box-sizing: border-box; }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        .main-title { color: #FFFFFF; text-align: center; max-width: 800px; margin-bottom: 30px; font-size: 34px; font-weight: 800; line-height: 1.2; text-shadow: 2px 4px 10px rgba(0, 0, 0, 0.7); }

        .quiz-container { max-width: 600px; width: 100%; background: rgba(255, 255, 255, 0.95); padding: 40px; border-radius: var(--radius); box-shadow: 0 20px 40px rgba(0,0,0,0.2); backdrop-filter: blur(10px); box-sizing: border-box; }
        .progress-container { width: 100%; background: #eee; height: 6px; border-radius: 10px; margin-bottom: 30px; }
        .progress-bar { height: 100%; background: var(--gradient); width: 0%; border-radius: 10px; transition: 0.5s; }
        
        h2 { font-weight: 700; text-align: center; margin-top: 0; font-size: 24px; }
        .question, .lead-form, .results { display: none; }
        .active { display: block; animation: fadeIn 0.4s ease-out; }
        .options { list-style: none; padding: 0; margin: 25px 0; }
        button.option-btn { width: 100%; padding: 20px; border: 1px solid #ddd; border-radius: var(--radius); background: white; cursor: pointer; transition: 0.3s; font-size: 16px; margin-bottom: 12px; color: var(--primary-text); font-family: 'Geist', sans-serif; font-weight: 500; }
        button.option-btn:hover { border-color: #0034EB; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,52,235,0.1); }
        input, select { width: 100%; padding: 15px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: var(--radius); font-size: 16px; box-sizing: border-box; background: #fff; font-family: 'Geist', sans-serif; }
        .submit-btn { width: 100%; padding: 18px; background: var(--primary-text); color: white; border: none; border-radius: var(--radius); cursor: pointer; font-weight: 600; font-size: 18px; transition: 0.3s; }
        .result-box { padding: 25px; border-radius: var(--radius); margin: 20px 0; text-align: center; background: #EBF2FF; border: 1px solid #0034EB; color: #0034EB; }
        .opp-counter { font-size: 18px; font-weight: 600; background: #f0f0f0; padding: 15px; border-radius: 15px; margin-bottom: 20px; text-align: center; }
        .opp-number { color: #0034EB; font-size: 28px; display: block; font-weight: 800; }
        .cta-btn { display: block; text-align: center; margin-top: 20px; padding: 18px; background: var(--gradient); color: white; text-decoration: none; border-radius: var(--radius); font-weight: bold; }
        .footer-logo { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(0,0,0,0.05); }
        .footer-logo img { max-width: 100px; height: auto; opacity: 0.7; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="landing-wrapper">
    <h1 class="main-title">¬øTu empresa escalar√° este a√±o o ya lleg√≥ a su Tope Operativo?</h1>

    <div class="quiz-container">
        <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

        <div id="quiz-steps">
            <div id="questions-container"></div>

            <div id="lead-form" class="lead-form">
                <h2>Casi terminamos...</h2>
                <p style="text-align:center; color:#666;">Ingres√° tus datos para generar el Informe de Tope Operativo cualitativo.</p>
                <input type="text" id="userName" placeholder="Tu Nombre y Apellido" required>
                <input type="email" id="userEmail" placeholder="Email Corporativo" required>
                <input type="text" id="userCompany" placeholder="Nombre de tu Empresa" required>
                <select id="userIndustry" required>
                    <option value="">Tu Rubro</option>
                    <option value="Agro">Agro</option>
                    <option value="Juridico">Estudio Jur√≠dico</option>
                    <option value="Logistica">Log√≠stica</option>
                    <option value="Salud">Salud</option>
                    <option value="Retail">Retail / E-commerce</option>
                    <option value="Servicios">Servicios / Pyme</option>
                </select>
                <button class="submit-btn" onclick="processResults()">Ver Diagn√≥stico y Puntos de Mejora</button>
            </div>

            <div id="results" class="results">
                <h2>An√°lisis de Tope Operativo</h2>
                <div id="res-box" class="result-box"><strong>DIAGN√ìSTICO: TOPE DETECTADO</strong></div>
                <div class="opp-counter">Se identificaron <span id="opp-count" class="opp-number">0</span> cuellos de botella que Aura puede destrabar.</div>
                <button class="submit-btn" style="background:#555;" onclick="generatePDF()">üì• Descargar Informe Estrat√©gico (PDF)</button>
                <a href="https://cal.com/gonzalo-izquierdo-brown/30min" target="_blank" class="cta-btn">Agendar Llamada de Asesor√≠a T√©cnica</a>
            </div>
        </div>

        <div class="footer-logo">
            <img src="image_1.png" alt="Aura Logo">
        </div>
    </div>
</div>

<script>
    const questions = [
        { q: "¬øSent√≠s que la operaci√≥n diaria depende 100% de tu supervisi√≥n constante?", risk: "Alta dependencia del fundador (Cuello de botella)." },
        { q: "¬øTu equipo pierde tiempo valioso en carga manual de datos o reportes repetitivos?", risk: "Ineficiencia operativa por procesos manuales." },
        { q: "¬øLa informaci√≥n cr√≠tica del negocio est√° distribuida en m√∫ltiples Excels o herramientas inconexas?", risk: "Informaci√≥n fragmentada (Tope Operativo)." },
        { q: "¬øTe cuesta saber el estado real de tu rentabilidad o stock en tiempo real?", risk: "Falta de trazabilidad y dashboards estrat√©gicos." },
        { q: "¬øViven 'apagando incendios' en lugar de ejecutar la estrategia de crecimiento?", risk: "Falta de automatizaci√≥n y orden operativo." }
    ];

    let currentStep = 0; let score = 0; let userRisks = [];
    const qCont = document.getElementById('questions-container');
    questions.forEach((item, i) => {
        const div = document.createElement('div');
        div.className = `question ${i === 0 ? 'active' : ''}`;
        div.id = `q-${i}`;
        div.innerHTML = `<h2>Pregunta ${i+1}</h2><p style="text-align:center; font-size:18px;">${item.q}</p><ul class="options"><li><button class="option-btn" onclick="answer(${i}, true)">S√≠, sucede</button></li><li><button class="option-btn" onclick="answer(${i}, false)">No / Est√° controlado</button></li></ul>`;
        qCont.appendChild(div);
    });

    function answer(index, isRisk) {
        if(isRisk) { score++; userRisks.push(questions[index].risk); }
        document.getElementById(`q-${index}`).classList.remove('active');
        currentStep++; 
        const percent = ((currentStep) / (questions.length + 1)) * 100;
        document.getElementById('progressBar').style.width = percent + "%";
        if(currentStep < questions.length) { document.getElementById(`q-${currentStep}`).classList.add('active'); } 
        else { document.getElementById('lead-form').classList.add('active'); }
    }

    function processResults() {
        if(!document.getElementById('userName').value || !document.getElementById('userIndustry').value) return alert("Por favor, complet√° los datos.");
        document.getElementById('lead-form').classList.remove('active');
        document.getElementById('results').classList.add('active');
        document.getElementById('opp-count').innerText = score;
    }

    function generatePDF() {
        const { jsPDF } = window.jspdf; const doc = new jsPDF();
        const company = document.getElementById('userCompany').value;
        const name = document.getElementById('userName').value;
        const industry = document.getElementById('userIndustry').value;

        doc.setFont("helvetica", "bold"); doc.setFontSize(22);
        doc.text("Informe de Diagn√≥stico de Tope Operativo", 20, 25);
        doc.setFontSize(11); doc.setFont("helvetica", "normal"); doc.setTextColor(100);
        doc.text(`Aura Partner Tecnol√≥gico | Empresa: ${company} | Rubro: ${industry}`, 20, 35);
        doc.setDrawColor(0, 52, 235); doc.line(20, 40, 190, 40);

        doc.setTextColor(0); doc.setFontSize(14); doc.setFont("helvetica", "bold");
        doc.text("1. An√°lisis del Techo de Procesos:", 20, 55);
        doc.setFont("helvetica", "normal"); doc.setFontSize(10);
        let y = 65;
        userRisks.forEach(risk => { doc.text(`[!] ${risk}`, 25, y); y += 8; });

        y += 10; doc.setFontSize(14); doc.setFont("helvetica", "bold");
        doc.text("2. Propuesta de Escalamiento de Aura:", 20, y);
        y += 10; doc.setFontSize(10); doc.setFont("helvetica", "normal");
        let solutions = ["- CRM a medida adaptado a tu l√≥gica comercial.", "- Automatizaci√≥n de flujos entre √°reas para eliminar tareas manuales.", "- Dashboard de Trazabilidad para decisiones basadas en datos reales."];
        solutions.forEach(s => { doc.text(s, 25, y); y += 7; });

        y += 15; doc.setFontSize(14); doc.setFont("helvetica", "bold");
        doc.text(`3. Recomendaci√≥n Estrat√©gica para ${industry}:`, 20, y);
        y += 10; doc.setFontSize(10); doc.setFont("helvetica", "normal");
        let advice = "Aura construye tecnolog√≠a que se adapta a tu negocio, no al rev√©s. Nuestro objetivo es que recuperes tu tiempo para que puedas enfocarte en el crecimiento real y no en apagar incendios diarios.";
        doc.text(doc.splitTextToSize(advice, 160), 25, y);

        y += 30; doc.setDrawColor(0, 52, 235); doc.setFillColor(235, 242, 255); doc.rect(20, y, 170, 30, 'F');
        y += 10; doc.setFont("helvetica", "bold"); doc.setFontSize(12); doc.setTextColor(0, 52, 235);
        doc.text("Agend√° una llamada t√©cnica con Gonzalo Izquierdo Brown:", 30, y);
        y += 10; doc.text("https://cal.com/gonzalo-izquierdo-brown/30min", 30, y);
        
        doc.save(`Aura_Diagnostico_${company}.pdf`);
    }
</script>
</body>
</html>